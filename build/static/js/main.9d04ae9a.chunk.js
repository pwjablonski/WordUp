(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n(169)},169:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(72),u=n.n(c),l=(n(17),n(5)),i=n(179),o=n(46),s=n.n(o),f=n(74),d=n(75);function p(){return a.a.createElement("div",{className:"topbar"},a.a.createElement("div",{className:"topbar-brand"},"WU"),a.a.createElement("div",{className:"topbar-tools"},a.a.createElement("div",{className:"topbar-button topbar-button-item"},a.a.createElement(d.a,{className:"",icon:f.a,size:"2x"}))))}var m=n(76),b=n.n(m);function E(e){var t=e.cellData,n=e.isHighlighted,r=e.isSelected,c=e.onCellSelected,u=t.index,l=t.fill,i=t.clueNum,o=u%15*33,s=33*Math.floor(u/15),f="."===l;return a.a.createElement("g",{onClick:function(){return c(u)}},a.a.createElement("rect",{x:3+o,y:3+s,width:"33.00",height:"33.00",className:b()("cell",{"cell-selected":r},{"cell-black":f},{"cell-highlighted":n})}),a.a.createElement("text",{x:5+o,y:14.5+s,textAnchor:"start",fontSize:"11.00"},i),a.a.createElement("text",{x:19.5+o,y:33.25+s,textAnchor:"middle",fontSize:22-2.5*l.length},l))}var v=n(178),h=Object(v.a)("APPLICATION_LOADED"),O=Object(v.a)("UPDATE_CURRENT_CELL",function(e){return{index:e}}),N=Object(v.a)("KEY_INPUTTED",function(e){return{key:e}}),j=Object(v.a)("UPDATE_HIGLIGHTED_CELLS",function(e){return{cells:e}}),y=Object(v.a)("CELL_SELECTED",function(e){return{cell:e}}),w=Object(v.a)("UPDATE_CURRENT_CLUE",function(e){return{clue:e}}),x=Object(v.a)("UPDATE_CURRENT_DIRECTION",function(e){return{direction:e}}),z=Object(v.a)("CLUE_LIST_ITEM_CLICKED",function(e,t){return{clueNum:e,direction:t}}),g=Object(v.a)("UPDATE_UI",function(e,t){return{nextCell:e,direction:t}}),C=Object(v.a)("PUZZLE_CREATED",function(e){return{puzzleKey:e}}),L=Object(v.a)("CREATE_PUZZLE"),A=Object(v.a)("UPDATE_CELL_FILL",function(e,t,n){return{currentPuzzleKey:e,cell:t,fill:n}}),D=Object(v.a)("UPDATE_PUZZLE",function(e){return{key:e}}),T=Object(v.a)("GRID_UPDATED",function(e,t,n){return{currentPuzzleKey:e,grid:t,clues:n}}),_=Object(v.a)("CLUE_TEXT_CHANGED",function(e,t,n,r){return{currentPuzzleKey:e,direction:t,index:n,value:r}}),P=Object(v.a)("AUTHOR_CHANGED",function(e,t){return{currentPuzzleKey:e,value:t}}),K=Object(v.a)("TITLE_CHANGED",function(e,t){return{currentPuzzleKey:e,value:t}});function U(e){return e.currentPuzzle.puzzleKey}function k(e){return U(e)?e.puzzles[e.currentPuzzle.puzzleKey]:null}function I(e){return e.ui.currentDirection}function S(e){return e.ui.currentClueNum}function R(e){var t=k(e);return t?t.author:null}function B(e){var t=k(e);return t?t.grid:null}function H(e){return e.ui.currentCell}function Z(e){return e.ui.highlightedCells}function G(e){var t=k(e);return t?t.title:null}function M(e){var t=k(e);return t?t.clues:null}function Y(e){var t=Z(e),n=B(e);if("."===n[H(e)].fill)return null;for(var r="",a=0;a<t.length;a+=1){var c=n[t[a]].fill;r+=""===c?"_ ":c+" "}return r}function F(){var e=Object(l.b)(),t=Object(l.c)(B),n=Object(l.c)(H),r=Object(l.c)(Z);function c(t){e(y(t))}return a.a.createElement("svg",{className:"board",viewBox:"0 0 500 500",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMin meet",tabIndex:1,onKeyDown:function(t){e(N(t.key))}},a.a.createElement("g",{className:"cells"},t.map(function(e){var t=n===e.index,u=r.includes(e.index);return a.a.createElement(E,{cellData:e,isSelected:t,isHighlighted:u,key:e.index,onCellSelected:c})})))}function J(){var e,t=Object(l.c)(S),n=Object(l.c)(Y),r=Object(l.c)(I);if(t){var c="across"===r?"A":"D";e="".concat(t).concat(c)}return a.a.createElement("div",{className:"cluebar"},a.a.createElement("div",{className:"cluebar-number"},e),a.a.createElement("div",{className:"cluebar-fill"},n))}function W(e){var t=e.clues,n=e.direction,r=Object(l.b)(),c=Object(l.c)(U),u=Object(l.c)(S),i=Object(l.c)(I);return a.a.createElement("div",{className:"cluelist"},a.a.createElement("h3",{className:"cluelist-title"},n),a.a.createElement("ol",{className:"cluelist-list"},t.map(function(e,t){return a.a.createElement("li",{className:b()("clue",{"clue-selected":u===e.clueNum&&i===n}),key:e.clueNum,onClick:function(){return t=e.clueNum,void r(z(t,n));var t}},a.a.createElement("div",{className:"clue-text"},a.a.createElement("span",null,e.clueNum,". "),a.a.createElement(s.a,{html:e.text,onChange:function(e){return function(e,t){r(_(c,n,t,e.target.value))}(e,t)},tagName:"span"})))})))}function X(){var e=Object(l.b)(),t=Object(l.c)(R),n=Object(l.c)(G),r=Object(l.c)(U);return a.a.createElement("div",{className:"puzzle-header"},a.a.createElement("div",{className:"puzzle-header-title"},a.a.createElement(s.a,{html:n,onChange:function(t){e(K(r,t.target.value))},tagName:"span"})),a.a.createElement("div",{className:"puzzle-header-author"},a.a.createElement("span",{className:"puzzle-header-by"},"By "),a.a.createElement(s.a,{html:t,onChange:function(t){e(P(r,t.target.value))},tagName:"span"})))}function q(){var e=Object(l.c)(M);return a.a.createElement("div",{className:"layout"},a.a.createElement("div",{className:"layout-left"},a.a.createElement(X,null),a.a.createElement(F,null)),a.a.createElement("div",{className:"layout-right"},a.a.createElement(J,null),a.a.createElement("div",{className:"clue-list"},a.a.createElement(W,{clues:e.across,direction:"across"}),a.a.createElement(W,{clues:e.down,direction:"down"}))))}var Q=n(115),V=n.n(Q);function $(){var e=Object(l.c)(k);return V()(e)?a.a.createElement("div",{className:"puzzle__loading"},a.a.createElement(d.a,{pulse:!0,icon:f.b,size:"2x"})):a.a.createElement("div",{className:"puzzle"},a.a.createElement(p,null),a.a.createElement(q,null))}function ee(){var e=Object(l.b)();return Object(r.useEffect)(function(){e(h())}),a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{exact:!0,path:"/",component:$}))}var te,ne,re=n(27),ae=n(176),ce=n(117),ue=n(12),le=n(13),ie=n(177),oe=Object(ie.a)(Object(ue.a)({},C,function(e,t){var n=t.payload.puzzleKey;return Object(le.a)(e,function(e){e.puzzleKey=n})}),{puzzleKey:null}),se=Object(ie.a)((te={},Object(ue.a)(te,O,function(e,t){var n=t.payload.index;return Object(le.a)(e,function(e){e.currentCell=n})}),Object(ue.a)(te,w,function(e,t){var n=t.payload.clue;return Object(le.a)(e,function(e){e.currentClueNum=n})}),Object(ue.a)(te,j,function(e,t){var n=t.payload.cells;return Object(le.a)(e,function(e){e.highlightedCells=n})}),Object(ue.a)(te,x,function(e,t){var n=t.payload.direction;return Object(le.a)(e,function(e){e.currentDirection=n})}),te),{currentCell:0,currentDirection:"across",currentClueNum:1,highlightedCells:[]});var fe=Object(ie.a)((ne={},Object(ue.a)(ne,C,function(e,t){var n=t.payload.puzzleKey;return Object(le.a)(e,function(e){e[n]=function(e,t,n){var r={};r.puzzleKey=e,r.title="Untitled",r.author="No Author",r.size={cols:15,rows:15},r.grid=[],r.clues={across:[],down:[]};for(var a=1,c=0;c<t*n;c+=1)c<15&&c%15===0?(r.grid.push({index:c,fill:"",clueNum:a}),r.clues.down.push({clueNum:a,text:"(BLANK)"}),r.clues.across.push({clueNum:a,text:"(BLANK)"}),a+=1):c<15?(r.grid.push({index:c,fill:"",clueNum:a}),r.clues.down.push({clueNum:a,text:"(BLANK)"}),a+=1):c%15===0?(r.grid.push({index:c,fill:"",clueNum:a}),r.clues.across.push({clueNum:a,text:"(BLANK)"}),a+=1):r.grid.push({index:c,fill:"",clueNum:null});return r}(n,15,15)})}),Object(ue.a)(ne,A,function(e,t){var n=t.payload,r=n.currentPuzzleKey,a=n.cell,c=n.fill;return Object(le.a)(e,function(e){e[r].grid[a].fill=c})}),Object(ue.a)(ne,T,function(e,t){var n=t.payload,r=n.currentPuzzleKey,a=n.grid,c=n.clues;return Object(le.a)(e,function(e){e[r].grid=a,e[r].clues=c})}),Object(ue.a)(ne,_,function(e,t){var n=t.payload,r=n.currentPuzzleKey,a=n.direction,c=n.index,u=n.value;return Object(le.a)(e,function(e){e[r].clues[a][c].text=u})}),Object(ue.a)(ne,P,function(e,t){var n=t.payload,r=n.currentPuzzleKey,a=(n.direction,n.index,n.value);return Object(le.a)(e,function(e){e[r].author=a})}),Object(ue.a)(ne,K,function(e,t){var n=t.payload,r=n.currentPuzzleKey,a=(n.direction,n.index,n.value);return Object(le.a)(e,function(e){e[r].title=a})}),ne),{}),de=function(e,t){return Object(re.combineReducers)({currentPuzzle:oe,ui:se,puzzles:fe})(e,t)},pe=n(8),me=n.n(pe),be=n(11),Ee=n(175),ve=Object(Ee.a)({type:"APPLICATION_LOADED",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.action,n(L()),r();case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),he=n(118),Oe=n.n(he);function Ne(e){for(var t=e.grid,n=e.clues,r=[],a={across:[],down:[]},c=1,u=0;u<t.length;u+=1)"."===t[u].fill?r.push({index:u,fill:t[u].fill,clueNum:null}):u%15!==0&&"."!==t[u-1].fill||!(u<15||"."===t[u-15].fill)?u%15===0||"."===t[u-1].fill?(r.push({index:u,fill:t[u].fill,clueNum:c}),a.across.push({clueNum:c,text:"(BLANK)"}),c+=1):u<15||"."===t[u-15].fill?(r.push({index:u,fill:t[u].fill,clueNum:c}),a.down.push({clueNum:c,text:"(BLANK)"}),c+=1):r.push({index:u,fill:t[u].fill,clueNum:null}):(r.push({index:u,fill:t[u].fill,clueNum:c}),a.across.push({clueNum:c,text:"(BLANK)"}),a.down.push({clueNum:c,text:"(BLANK)"}),c+=1);for(var l=function(e){var t=n.across.find(function(t){return a.across[e].clueNum===t.clueNum});t&&(a.across[e].text=t.text)},i=0;i<a.across.length;i+=1)l(i);for(var o=function(e){var t=n.down.find(function(t){return a.down[e].clueNum===t.clueNum});t&&(a.down[e].text=t.text)},s=0;s<a.down.length;s+=1)o(s);return{newGrid:r,newClues:a}}function je(e,t,n){var r,a,c,u,l=[],i=!1;if("across"===e?(a=(r=t-t%15)+15,c=1):"down"===e&&(a=(r=0+t%15)+211,c=15),"."===n[t].fill)u=null;else{u=n[r].clueNum;for(var o=r;o<a;o+=c)if(o===t)l.push(o),i=!0;else{if("."===n[o].fill&&i)return{newClue:u,newHighlightedCells:l};"."!==n[o].fill||i?l.push(o):(l=[],u=n[o+c].clueNum)}}return{newClue:u,newHighlightedCells:l}}var ye=[ve,Object(Ee.a)({type:"CREATE_PUZZLE",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.action,n(C(Oe.a.generate())),r();case 3:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),Object(Ee.a)({type:"KEY_INPUTTED",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){var a,c,u,l,i,o,s;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getState,c=t.action.payload.key,u=a(),l=I(u),i=H(u),e.t0=c,e.next="ArrowDown"===e.t0?7:"ArrowUp"===e.t0?9:"ArrowRight"===e.t0?11:"ArrowLeft"===e.t0?13:"Backspace"===e.t0?15:"Enter"===e.t0?22:"Tab"===e.t0?22:"Control"===e.t0?23:"Alt"===e.t0?23:"Meta"===e.t0?23:"Escape"===e.t0?23:"Shift"===e.t0?23:24;break;case 7:return"across"===l?n(g(i,"down")):i<210&&n(g(i+15,l)),e.abrupt("break",31);case 9:return"across"===l?n(g(i,"down")):i>14&&n(g(i-15,l)),e.abrupt("break",31);case 11:return"down"===l?n(g(i,"across")):i<224&&n(g(i+1,l)),e.abrupt("break",31);case 13:return"down"===l?n(g(i,"across")):i>0&&n(g(i-1,l)),e.abrupt("break",31);case 15:return o=i,i>0&&"across"===l&&(o-=1),i>14&&"down"===l&&(o-=15),e.next=20,n(D(""));case 20:return n(g(o,l)),e.abrupt("break",31);case 22:case 23:return e.abrupt("break",31);case 24:return s=i,i<224&&"across"===l&&(s+=1),i<210&&"down"===l&&(s+=15),e.next=29,n(D(c.toUpperCase()));case 29:return n(g(s,l)),e.abrupt("break",31);case 31:r();case 32:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),Object(Ee.a)({type:"CELL_SELECTED",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){var a,c,u,l,i;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getState,c=t.action.payload.cell,u=a(),l=H(u),i=I(u),l===c?"across"===i?n(g(l,"down")):"down"===i&&n(g(l,"across")):n(g(c,i)),r();case 6:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),Object(Ee.a)({type:"UPDATE_PUZZLE",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){var a,c,u,l,i,o,s,f,d;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getState,c=t.action,u=a(),l=k(u),i=U(u),o=H(u),l.grid[o].fill=c.payload.key,s=Ne(l),f=s.newGrid,d=s.newClues,e.next=9,n(T(i,f,d));case 9:r();case 10:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),Object(Ee.a)({type:"UPDATE_UI",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){var a,c,u,l,i,o,s;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getState,c=t.action,u=a(),l=B(u),n(O(c.payload.nextCell)),n(x(c.payload.direction)),i=je(c.payload.direction,c.payload.nextCell,l),o=i.newClue,s=i.newHighlightedCells,n(w(o)),n(j(s)),r();case 9:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()}),Object(Ee.a)({type:"CLUE_LIST_ITEM_CLICKED",process:function(){var e=Object(be.a)(me.a.mark(function e(t,n,r){var a,c,u,l,i,o,s;return me.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getState,c=t.action.payload,u=c.clueNum,l=c.direction,i=a(),o=B(i),s=o.find(function(e){return u===e.clueNum}),n(g(s.index,l)),r();case 6:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()})];var we=n(21),xe=Object(we.a)();u.a.render(a.a.createElement(function(){var e=function(){var e=Object(ae.a)(ye),t=Object(re.applyMiddleware)(e);return Object(re.createStore)(de,Object(ce.composeWithDevTools)(t))}();return a.a.createElement(l.a,{store:e},a.a.createElement(i.b,{history:xe},a.a.createElement(ee,null)))},null),document.getElementById("root"))},17:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.9d04ae9a.chunk.js.map