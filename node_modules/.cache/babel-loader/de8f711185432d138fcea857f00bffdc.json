{"ast":null,"code":"import { createLogic } from \"redux-logic\";\nimport { gridUpdated } from \"../actions\";\nimport { getCurrentPuzzle, getCurrentPuzzleKey, getCurrentCell } from \"../selectors\";\nimport updateClues from \"../util/updateClues\";\nexport default createLogic({\n  type: \"UPDATE_PUZZLE\",\n\n  async process({\n    getState,\n    action\n  }, dispatch, done) {\n    const state = getState();\n    const currentPuzzle = getCurrentPuzzle(state);\n    const currentPuzzleKey = getCurrentPuzzleKey(state);\n    const currentCell = getCurrentCell(state);\n    currentPuzzle.grid[currentCell].fill = action.payload.key;\n\n    const _updateClues = updateClues(currentPuzzle),\n          newGrid = _updateClues.newGrid,\n          newClues = _updateClues.newClues;\n\n    await dispatch(gridUpdated(currentPuzzleKey, newGrid, newClues));\n    done();\n  }\n\n});","map":{"version":3,"sources":["/Users/peter/Desktop/code/word-up/src/logic/updatePuzzle.js"],"names":["createLogic","gridUpdated","getCurrentPuzzle","getCurrentPuzzleKey","getCurrentCell","updateClues","type","process","getState","action","dispatch","done","state","currentPuzzle","currentPuzzleKey","currentCell","grid","fill","payload","key","newGrid","newClues"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SACEC,WADF,QAEO,YAFP;AAGA,SACEC,gBADF,EAEEC,mBAFF,EAGEC,cAHF,QAIO,cAJP;AAKA,OAAOC,WAAP,MAAwB,qBAAxB;AAEA,eAAeL,WAAW,CAAC;AACzBM,EAAAA,IAAI,EAAE,eADmB;;AAEzB,QAAMC,OAAN,CAAc;AAACC,IAAAA,QAAD;AAAWC,IAAAA;AAAX,GAAd,EAAkCC,QAAlC,EAA4CC,IAA5C,EAAkD;AAChD,UAAMC,KAAK,GAAGJ,QAAQ,EAAtB;AACA,UAAMK,aAAa,GAAGX,gBAAgB,CAACU,KAAD,CAAtC;AACA,UAAME,gBAAgB,GAAGX,mBAAmB,CAACS,KAAD,CAA5C;AACA,UAAMG,WAAW,GAAGX,cAAc,CAACQ,KAAD,CAAlC;AAEAC,IAAAA,aAAa,CAACG,IAAd,CAAmBD,WAAnB,EAAgCE,IAAhC,GAAuCR,MAAM,CAACS,OAAP,CAAeC,GAAtD;;AANgD,yBAOpBd,WAAW,CAACQ,aAAD,CAPS;AAAA,UAOzCO,OAPyC,gBAOzCA,OAPyC;AAAA,UAOhCC,QAPgC,gBAOhCA,QAPgC;;AAShD,UAAMX,QAAQ,CAACT,WAAW,CAACa,gBAAD,EAAmBM,OAAnB,EAA4BC,QAA5B,CAAZ,CAAd;AAEAV,IAAAA,IAAI;AACL;;AAdwB,CAAD,CAA1B","sourcesContent":["import { createLogic } from \"redux-logic\";\nimport {\n  gridUpdated,\n} from \"../actions\"\nimport {\n  getCurrentPuzzle,\n  getCurrentPuzzleKey,\n  getCurrentCell\n} from \"../selectors\"\nimport updateClues from \"../util/updateClues\"\n\nexport default createLogic({\n  type: \"UPDATE_PUZZLE\",\n  async process({getState, action}, dispatch, done) {\n    const state = getState()\n    const currentPuzzle = getCurrentPuzzle(state)\n    const currentPuzzleKey = getCurrentPuzzleKey(state)\n    const currentCell = getCurrentCell(state)\n\n    currentPuzzle.grid[currentCell].fill = action.payload.key\n    const {newGrid, newClues} = updateClues(currentPuzzle);\n \n    await dispatch(gridUpdated(currentPuzzleKey, newGrid, newClues));\n\n    done();\n  }\n});\n"]},"metadata":{},"sourceType":"module"}